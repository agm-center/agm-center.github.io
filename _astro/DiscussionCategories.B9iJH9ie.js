import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.CRVbtxaI.js";function g(){const[n,c]=t.useState([]),[x,i]=t.useState(!0),[l,o]=t.useState(null),[d,m]=t.useState("");return t.useEffect(()=>{async function s(){try{i(!0);const r=await fetch("/api/discourse/categories.json");if(!r.ok)throw new Error("Failed to fetch categories");const a=await r.json();c(a.categories),a.discourseUrl&&m(a.discourseUrl),o(null)}catch(r){o(r instanceof Error?r.message:"Unknown error")}finally{i(!1)}}s()},[]),x?e.jsx("div",{className:"grid md:grid-cols-2 gap-l",children:[1,2,3,4].map(s=>e.jsx("div",{className:"rounded-s bg-white shadow-lg p-xl animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-m",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xs flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsxs("div",{className:"flex gap-m",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})]})]})},s))}):l&&n.length===0?e.jsxs("div",{className:"rounded-s bg-white border border-red-200 p-xl text-center",children:[e.jsxs("p",{className:"text-red-600 mb-m",children:["Failed to load categories: ",l]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-brand-primary text-white hover:bg-brand-primary-dark px-m h-button-md text-button-2",children:"Retry"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-l",children:n.map(s=>{const r=d?`${d}/c/${s.slug}/${s.id}`:"#",a=Math.floor(s.post_count/3);return e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"rounded-s bg-white shadow-lg p-xl transition-all duration-300 hover:shadow-xl hover:-translate-y-1 block no-underline",children:e.jsxs("div",{className:"flex items-start gap-m",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-primary/10 rounded-xs flex items-center justify-center flex-shrink-0",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:s.icon}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-title-3 text-neutral-black mb-s",children:s.name}),e.jsx("p",{className:"text-body-2 text-neutral-darkGrey mb-m",children:s.description}),e.jsxs("div",{className:"flex items-center gap-m text-sm text-neutral-grey",children:[e.jsxs("span",{className:"flex items-center gap-xs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),s.topic_count," discussions"]}),e.jsxs("span",{className:"flex items-center gap-xs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a," members"]})]})]})]})},s.id)})})}export{g as default};
