import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.CRVbtxaI.js";function b(){const[n,o]=t.useState([]),[c,l]=t.useState(!0),[i,d]=t.useState(null),[x,m]=t.useState("");return t.useEffect(()=>{async function s(){try{l(!0);const r=await fetch("/api/discourse/recent-topics.json?limit=3");if(!r.ok)throw new Error("Failed to fetch topics");const a=await r.json();o(a.topics),a.discourseUrl&&m(a.discourseUrl),d(null)}catch(r){d(r instanceof Error?r.message:"Unknown error")}finally{l(!1)}}s()},[]),c?e.jsx("div",{className:"space-y-m",children:[1,2,3].map(s=>e.jsx("div",{className:"rounded-s bg-white border border-border-base p-l animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-m",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsxs("div",{className:"flex gap-l",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})]})]})},s))}):i&&n.length===0?e.jsxs("div",{className:"rounded-s bg-white border border-red-200 p-xl text-center",children:[e.jsxs("p",{className:"text-red-600 mb-m",children:["Failed to load discussions: ",i]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-brand-primary text-white hover:bg-brand-primary-dark px-m h-button-md text-button-2",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-m",children:n.map(s=>{const r=s.url||"#";return e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"rounded-s bg-white border border-border-base p-l transition-all duration-300 hover:shadow-xl hover:-translate-y-1 block no-underline",children:e.jsxs("div",{className:"flex items-start gap-m",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-caption-m text-brand-primary font-bold",children:s.author})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-s",children:[e.jsx("h3",{className:"text-title-3 text-neutral-black pr-m",children:s.title}),e.jsx("span",{className:"text-caption-s text-neutral-grey flex-shrink-0 ml-m",children:s.time})]}),e.jsx("p",{className:"text-body-2 text-neutral-darkGrey mb-m",children:s.excerpt}),e.jsxs("div",{className:"flex items-center gap-l text-sm text-neutral-grey",children:[e.jsxs("span",{className:"inline-flex items-center gap-xs",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),s.replies," replies"]}),e.jsx("span",{className:"text-brand-primary",children:s.category})]})]})]})},s.id)})}),e.jsx("div",{className:"text-center mt-xl",children:e.jsx("a",{href:x||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-surface-layer1 text-brand-primary border-2 border-brand-primary hover:bg-brand-primary hover:text-white px-m h-button-lg text-button-1 no-underline",children:"View All Discussions"})})]})}export{b as default};
