import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.CRVbtxaI.js";function m(){const[r,s]=n.useState(null),[a,t]=n.useState(!0);n.useEffect(()=>{i()},[]);async function i(){try{t(!1)}catch(c){console.error("Auth check failed:",c),t(!1)}}function o(){window.location.href="/api/discourse/sso"}function l(){window.location.href="/api/discourse/sso"}function u(){document.cookie="discourse_user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;",s(null)}return a?e.jsxs("div",{className:"space-y-m",children:[e.jsx("div",{className:"h-button-lg bg-gray-200 rounded-xs animate-pulse"}),e.jsx("div",{className:"h-button-lg bg-gray-200 rounded-xs animate-pulse"})]}):r?e.jsxs("div",{className:"space-y-m",children:[e.jsxs("div",{className:"rounded-s bg-brand-primary/10 p-m border-2 border-brand-primary",children:[e.jsxs("p",{className:"text-body-2 text-neutral-black mb-xs",children:["Signed in as ",e.jsx("strong",{children:r.username})]}),e.jsx("p",{className:"text-caption-s text-neutral-grey",children:r.email})]}),e.jsx("button",{onClick:u,className:"w-full inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-surface-layer1 text-brand-primary border-2 border-brand-primary hover:bg-brand-primary hover:text-white px-m h-button-lg text-button-1",children:"Sign Out"})]}):e.jsxs("div",{className:"space-y-m",children:[e.jsx("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-brand-primary text-white hover:bg-brand-primary-dark focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary px-m h-button-lg text-button-1",children:"Sign Up"}),e.jsx("button",{onClick:o,className:"w-full inline-flex items-center justify-center gap-xs font-bold transition-all duration-200 rounded-xs bg-surface-layer1 text-brand-primary border-2 border-brand-primary hover:bg-brand-primary hover:text-white focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary px-m h-button-lg text-button-1",children:"Sign In"})]})}export{m as default};
